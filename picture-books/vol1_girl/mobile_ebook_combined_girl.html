<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>çµµæœ¬ - ç¬¬1å·» (çµ±åˆç‰ˆ)</title>
    <style>
        /* æ—¥æœ¬èªãƒ•ã‚©ãƒ³ãƒˆã€ŒZen Maru Gothicã€ã‚’Google Fontsã‹ã‚‰èª­ã¿è¾¼ã¿ */
        @import url('https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@500;700&display=swap');

        /* ============================
           åŸºæœ¬è¨­å®š (å¤‰æ•°ã®å®šç¾©)
           ============================ */
        :root {
            --bg-color: #f0f0f0;   /* èƒŒæ™¯è‰²ï¼ˆè–„ã„ã‚°ãƒ¬ãƒ¼ï¼‰ */
            --text-color: #4a4a4a; /* æ–‡å­—è‰²ï¼ˆæ¿ƒã„ã‚°ãƒ¬ãƒ¼ï¼‰ */
            /* ã‚¹ãƒãƒ›ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒãƒ¼å¯¾ç­–ï¼šç”»é¢ã®é«˜ã•ã‚’å‹•çš„ã«å–å¾—ã™ã‚‹å˜ä½ */
            --app-height: 100dvh; 
        }

        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            font-family: 'Zen Maru Gothic', sans-serif;
            color: var(--text-color);
            overflow: hidden;    /* ä¸è¦ãªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã‚’æ¶ˆã™ */
            touch-action: pan-y; /* ã‚¹ãƒãƒ›ã§ã®ã‚¹ãƒ¯ã‚¤ãƒ—æ“ä½œå¹²æ¸‰ã‚’é˜²ã */
        }

        /* ============================
           å…±é€šãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ (æ–‡å­—è£…é£¾)
           ============================ */
        .girl-name {
            font-weight: bold;
            color: #ff69b4; /* å¥³ã®å­ã®åå‰ã¯ãƒ”ãƒ³ã‚¯è‰²ã§å¼·èª¿ */
        }

        /* ============================
           ç”»é¢è¡¨ç¤ºç”¨ã®ã‚¹ã‚¿ã‚¤ãƒ« (Webç‰ˆ)
           ============================ */
        
        /* å°åˆ·ã‚¨ãƒªã‚¢ã¯ç”»é¢ã§ã¯éš ã—ã¦ãŠã */
        #print-area { display: none; }

        body {
            display: flex;
            justify-content: center;
            align-items: flex-start; /* ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã‚¨ãƒªã‚¢ç¢ºä¿ã®ãŸã‚ä¸Šè©°ã‚ */
            padding-top: 20px;
            box-sizing: border-box;
        }

        /* çµµæœ¬ã®è¡¨ç¤ºã‚¹ãƒ†ãƒ¼ã‚¸ï¼ˆç™½ã„æ ï¼‰ã®è¨­å®š */
        #book-stage {
            position: relative;
            width: auto;
            /* ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒœã‚¿ãƒ³(140pxåˆ†)ã‚’é™¤ã„ãŸé«˜ã•ã‚’ä½¿ã† */
            height: calc(var(--app-height) - 140px); 
            aspect-ratio: 210/297; /* A4ç”¨ç´™ã®ç¸¦æ¨ªæ¯”ã‚’ç¶­æŒ */
            max-width: 95vw;       /* ç”»é¢ã‹ã‚‰ã¯ã¿å‡ºã•ãªã„ã‚ˆã†ã«åˆ¶é™ */
            background-color: white;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1); /* å½±ã‚’ã¤ã‘ã¦æµ®ãä¸ŠãŒã‚‰ã›ã‚‹ */
            overflow: hidden;
            border-radius: 8px;    /* è§’ã‚’å°‘ã—ä¸¸ãã™ã‚‹ */
        }

        /* å„ãƒšãƒ¼ã‚¸å…±é€šã®è¨­å®š */
        .page {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: white;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            /* ãƒšãƒ¼ã‚¸ã‚ãã‚Šã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®è¨­å®šï¼ˆ0.5ç§’ã§å‹•ãï¼‰ */
            transition: transform 0.5s cubic-bezier(0.2, 0.8, 0.2, 1);
            backface-visibility: hidden; /* ãƒãƒ©ã¤ãé˜²æ­¢ */
        }

        /* ãƒšãƒ¼ã‚¸ã®çŠ¶æ…‹ã«ã‚ˆã‚‹ä½ç½®æŒ‡å®š */
        .page.active { transform: translateX(0); z-index: 10; }      /* ç¾åœ¨ã®ãƒšãƒ¼ã‚¸ï¼ˆç”»é¢ä¸­å¤®ï¼‰ */
        .page.past   { transform: translateX(-100%); z-index: 5; } /* éå»ã®ãƒšãƒ¼ã‚¸ï¼ˆå·¦ã¸ç§»å‹•ï¼‰ */
        .page.future { transform: translateX(100%); z-index: 5; }  /* æœªæ¥ã®ãƒšãƒ¼ã‚¸ï¼ˆå³ã¸å¾…æ©Ÿï¼‰ */

        /* ç”»åƒã‚¨ãƒªã‚¢ã®è¨­å®š */
        .image-area {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1; /* æ–‡å­—ã‚ˆã‚Šå¥¥ã«é…ç½® */
        }

        .image-area img {
            width: 100%;
            height: 100%;
            object-fit: cover; /* æ ã„ã£ã±ã„ã«ç”»åƒã‚’ãƒˆãƒªãƒŸãƒ³ã‚°ã—ã¦è¡¨ç¤º */
            object-position: center;
        }

        /* ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®åŸºæœ¬è¨­å®š */
        .text-area {
            position: absolute;
            bottom: 5%; /* åŸºæœ¬ã¯ä¸‹ã®æ–¹ã«é…ç½® */
            left: 0;
            width: 100%;
            padding: 20px;
            box-sizing: border-box;
            z-index: 2; /* ç”»åƒã‚ˆã‚Šæ‰‹å‰ã«é…ç½® */
            pointer-events: none; /* ãƒ†ã‚­ã‚¹ãƒˆã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚‚ç”»åƒæ“ä½œã‚’é‚ªé­”ã—ãªã„ */
            
            color: #333;
            font-weight: 700;
            line-height: 1.5;
            word-break: keep-all; /* æ—¥æœ¬èªã®å¤‰ãªä½ç½®ã§ã®æ”¹è¡Œã‚’é˜²ã */
            /* ç™½ã„ç¸å–ã‚Šã‚’ã¤ã‘ã¦èª­ã¿ã‚„ã™ãã™ã‚‹ */
            text-shadow: 
                2px 2px 0 #fff, -2px -2px 0 #fff,
                2px -2px 0 #fff, -2px 2px 0 #fff;
            
            display: flex;
            justify-content: center;
            align-items: flex-end;
            text-align: center;
        }

        /* ============================
           ãƒšãƒ¼ã‚¸ã”ã¨ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆèª¿æ•´ (ç”»é¢ç”¨)
           ============================ */
        
        /* P3: ã€Œãƒãƒƒ ãƒãƒƒâ€¦â€¦ã ã‚ã‚Œï¼Ÿã€â†’ é¡”ã«è¢«ã‚‰ãªã„ã‚ˆã†å°‘ã—ä¸‹ã¸ */
        #p3 .text-area { bottom: 2%; }

        /* P5: ã€Œãƒ”ãƒ§ãƒ³ï¼ã¨ãƒ”ãƒ§ãƒ³ï¼ã€â†’ å¥³ã®å­å¯„ã‚Šï¼ˆå·¦å´ï¼‰ã«é…ç½® */
        #p5 .text-area {
            justify-content: flex-start;
            text-align: left;
            padding-left: 10%;
        }

        /* P6: ã€Œãµã‚ã£ã€‚ã¦ã«ã®ã£ãŸï¼ã€â†’ 1è¡Œã«ã—ã¦ä¸‹éƒ¨ã«é…ç½® */
        #p6 .text-area {
            top: auto;
            bottom: 2%;
            width: 100%;
            padding: 0 5%;
            justify-content: center;
            text-align: center;
        }
        /* P6ã®ã¿æ–‡å­—ã‚µã‚¤ã‚ºã‚’å¼·åˆ¶çš„ã«èª¿æ•´ï¼ˆ1è¡Œã«åã‚ã‚‹ãŸã‚ï¼‰ */
        #p6 .text-area p {
            font-size: clamp(14px, 4.5vw, 22px) !important; 
            line-height: 1.6;
        }

        /* P7: ã€Œã ãƒ¼ã„ã™ãã€â†’ å³ä¸Šã®ç©ºãã‚¹ãƒšãƒ¼ã‚¹ã¸ç§»å‹• */
        #p7 .text-area {
            bottom: auto;
            top: 2%;
            right: 5%;
            width: 70%;
            justify-content: flex-end;
            text-align: right;
        }

        /* ============================
           è¡¨ç´™ã¨æ“ä½œãƒœã‚¿ãƒ³ã®ã‚¹ã‚¿ã‚¤ãƒ«
           ============================ */

        .cover-title {
            position: absolute;
            top: 8%;
            width: 100%;
            text-align: center;
            font-size: clamp(24px, 5vw, 40px); /* ç”»é¢å¹…ã«å¿œã˜ã¦ã‚µã‚¤ã‚ºå¯å¤‰ */
            font-weight: 800;
            color: #5D4037;
            text-shadow: 3px 3px 0px #ffffff;
            z-index: 10;
            word-break: keep-all;
        }

        /* ä¸‹éƒ¨ã®æ“ä½œãƒãƒ¼ */
        #controls {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%); /* ä¸­å¤®å¯„ã› */
            display: flex;
            justify-content: space-between;
            width: 90%;
            max-width: 400px;
            gap: 10px;
            z-index: 1000;
            background: rgba(255, 255, 255, 0.9); /* åŠé€æ˜ã®ç™½èƒŒæ™¯ */
            padding: 10px;
            border-radius: 50px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.15);
            backdrop-filter: blur(5px);
        }

        .control-btn {
            background: transparent;
            border: 1px solid #ddd;
            padding: 10px;
            border-radius: 20px;
            font-family: inherit;
            font-weight: bold;
            font-size: 13px;
            cursor: pointer;
            flex: 1;
            white-space: nowrap;
            transition: all 0.2s ease;
        }

        .control-btn:active { transform: scale(0.95); } /* æŠ¼ã—ãŸæ™‚ã®å‡¹ã¿åŠ¹æœ */
        .control-btn:disabled { opacity: 0.3; cursor: default; }

        .btn-home { flex: 0.6; background: #f8f9fa; }
        
        /* ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ãƒœã‚¿ãƒ³ï¼ˆPDFä¿å­˜ï¼‰ã®è£…é£¾ */
        .premium-btn {
            background: linear-gradient(135deg, #FF69B4, #FFD700);
            color: white;
            border: none;
            box-shadow: 0 2px 8px rgba(255, 105, 180, 0.4);
            flex: 1.5;
        }

        /* ============================
           å°åˆ·(PDF)ç”¨ã®ã‚¹ã‚¿ã‚¤ãƒ«è¨­å®š
           ============================ */
        @media print {
            /* å°åˆ·æ™‚ã¯ç”»é¢è¡¨ç¤ºç”¨ã®è¦ç´ ã‚’ã™ã¹ã¦éš ã™ */
            body { 
                background: white !important; 
                display: block !important; 
                height: auto !important; 
                overflow: visible !important;
                padding: 0 !important;
            }

            #book-stage, #controls, script { display: none !important; }
            /* å°åˆ·å°‚ç”¨ã‚¨ãƒªã‚¢ã‚’è¡¨ç¤º */
            #print-area { display: block !important; }

            /* 1ãƒšãƒ¼ã‚¸ï¼1æšã®è¨­å®š */
            .print-page {
                width: 100%;
                height: 100vh;
                page-break-after: always;  /* å¼·åˆ¶çš„ã«æ¬¡ã®ãƒšãƒ¼ã‚¸ã¸ */
                page-break-inside: avoid;
                position: relative; 
                overflow: hidden;
            }

            .print-page.last { page-break-after: auto; } /* æœ€å¾Œã®ãƒšãƒ¼ã‚¸ã¯æ”¹ãƒšãƒ¼ã‚¸ã—ãªã„ */

            /* å°åˆ·ç”¨ç”»åƒï¼šå…¨é¢è¡¨ç¤º */
            .print-bg {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                object-fit: cover;
                z-index: 0;
                margin: 0;
            }

            /* å°åˆ·ç”¨ãƒ†ã‚­ã‚¹ãƒˆï¼šç”»åƒã®ä¸Šã«é‡ã­ã‚‹ */
            .print-text {
                position: absolute;
                z-index: 2;
                font-size: 40pt; /* â˜…ä¿®æ­£: æ–‡å­—ã‚µã‚¤ã‚ºã‚’å¤§ããã—ã¾ã—ãŸ (24pt -> 32pt) */
                font-weight: bold;
                color: #333;
                /* ç™½ç¸å–ã‚Šã‚’å¤ªãã—ã¦è¦–èªæ€§ã‚¢ãƒƒãƒ— */
                text-shadow: 
                    3px 3px 0 #fff, -3px -3px 0 #fff, 
                    3px -3px 0 #fff, -3px 3px 0 #fff;
                word-break: keep-all;
                line-height: 1.4;
                
                /* ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆé…ç½®ï¼ˆä¸‹éƒ¨ä¸­å¤®ï¼‰ */
                bottom: 5%;
                left: 0;
                width: 100%;
                text-align: center;
                display: flex;
                justify-content: center;
                align-items: flex-end;
            }

            /* ----- ãƒšãƒ¼ã‚¸ã”ã¨ã®å°åˆ·ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆèª¿æ•´ ----- */

            /* P1 è¡¨ç´™ */
            .print-cover-title {
                position: absolute;
                top: 10%;
                width: 100%;
                text-align: center;
                font-size: 40pt;
                color: #ff69b4;
                text-shadow: 4px 4px 0 #fff;
                z-index: 3;
            }

            /* P2 åå‰è¨˜å…¥ãƒšãƒ¼ã‚¸ï¼ˆç™½èƒŒæ™¯ï¼‰ */
            .print-page.name-page {
                background: white;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
            }

            /* P3 "ã ã‚ã‚Œï¼Ÿ" - ä¸‹éƒ¨é…ç½® */
            .layout-p3 .print-text {
                bottom: 3%;
            }

            /* P5 "ãƒ”ãƒ§ãƒ³ï¼" - å·¦å¯„ã› */
            .layout-p5 .print-text {
                justify-content: flex-start;
                text-align: left;
                padding-left: 10%;
            }

            /* P6 "ãµã‚ã£..." - 1è¡Œãƒ»æ–‡å­—ã‚µã‚¤ã‚ºèª¿æ•´ */
            .layout-p6 .print-text {
                bottom: 3%;
                font-size: 30pt; /* 1è¡Œã«åã‚ã‚‹ãŸã‚å°‘ã—ã ã‘å°ã•ãèª¿æ•´ */
                width: 100%;
            }

            /* P7 "ã ãƒ¼ã„ã™ã" - å³ä¸Šé…ç½®ï¼ˆä¿®æ­£ç‰ˆï¼‰ */
            .layout-p7 .print-text {
                bottom: auto;
                top: 2%;
                left: auto;        /* å·¦å´ã®å›ºå®šã‚’è§£é™¤ */
                right: 10%;         /* å³ç«¯ã‹ã‚‰5%ã®ä½ç½®ã«é…ç½® */
                width: auto;       /* ã€é‡è¦ã€‘70%åˆ¶é™ã‚’æ’¤å»ƒã€‚æ–‡å­—æ•°ã«åˆã‚ã›ã¦ä¼¸ã³ã‚‹ã‚ˆã†ã«ã™ã‚‹ */
                max-width: 100%;    /* å¿µã®ãŸã‚ç”»é¢ã‹ã‚‰ã¯ã¿å‡ºã•ãªã„ã‚ˆã†ã«åˆ¶é™ */
                justify-content: flex-end;
                text-align: right;
                word-break: normal; /* ã€é‡è¦ã€‘æ—¥æœ¬èªã®å¤‰ãªä½ç½®ã§ã®æ”¹è¡Œã‚’é˜²ã */
            }

            /* P11 å¥¥ä»˜ï¼ˆç™½èƒŒæ™¯ï¼‰ */
            .print-page.colophon-page {
                background: white;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
            }
            .print-colophon { text-align: center; }

            /* QRã‚³ãƒ¼ãƒ‰æ  */
            .qr-box {
                width: 25mm;
                height: 25mm;
                border: 1px solid #ccc;
                margin: 1cm auto;
                display: flex;
                justify-content: center;
                align-items: center;
            }
            
            /* èƒŒæ™¯è‰²ã‚’å¼·åˆ¶å°åˆ·ã™ã‚‹è¨­å®š */
            * { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
        }
    </style>
</head>

<body>
    <div id="print-area">
        <div class="print-page cover">
            <h1 class="print-cover-title">ãƒ«ãƒ«ã¨ <span class="girl-name"></span></h1>
            <img src="images/cover_front.png" class="print-bg">
        </div>

        <div class="print-page name-page">
            <div style="margin-top: 0;">
                <p style="font-size: 18pt;">ã“ã®ãˆã»ã‚“ã® ã‚‚ã¡ã¬ã—ã¯ï¼š</p>
                <div style="border-bottom: 3px solid #333; width: 60%; margin: 20px auto; height: 50px;"></div>
                <p style="font-size: 14pt; margin-top: 10px;">ï¼ˆãŠãªã¾ãˆã‚’ ã‹ã„ã¦ã­ï¼‰</p>
            </div>
        </div>

        <div class="print-page name-page">
            <h2 style="font-size: 28pt;">ãƒ«ãƒ«ã¨ <span class="girl-name"></span></h2>
            <p style="margin-top: 100px;">Sakura Academia</p>
        </div>

        <div class="print-page">
            <img src="images/page1.png" class="print-bg">
            <div class="print-text">ãŠã¯ã‚ˆã†ã€<br><span class="girl-name"></span></div>
        </div>
        
        <div class="print-page layout-p3">
            <img src="images/page2.png" class="print-bg">
            <div class="print-text">ã€Œãƒãƒƒ ãƒãƒƒã€<br>â€¦â€¦ã ã‚ã‚Œï¼Ÿ</div>
        </div>
        
        <div class="print-page">
            <img src="images/page3.png" class="print-bg">
            <div class="print-text">ã€Œã“ã£ã¡ã¸<br>ãŠã„ã§ã€</div>
        </div>
        
        <div class="print-page layout-p5">
            <img src="images/page4.png" class="print-bg">
            <div class="print-text">ãƒ”ãƒ§ãƒ³ï¼<br>ã¨<br>ãƒ”ãƒ§ãƒ³ï¼</div>
        </div>
        
        <div class="print-page layout-p6">
            <img src="images/page5.png" class="print-bg">
            <div class="print-text">
                ãµã‚ã£ã€‚ã¦ã«ã€€ã®ã£ãŸï¼<br>ãã¿ã®ã€€ãªã¾ãˆã¯â€¦â€¦<br>ã€Œãƒ«ãƒ«ã€ï¼
            </div>
        </div>
        
        <div class="print-page layout-p7">
            <img src="images/page6.png" class="print-bg">
            <div class="print-text">ãƒ«ãƒ«ã¯<br><span class="girl-name"></span>ãŒã ãƒ¼ã„ã™ã</div>
        </div>
        
        <div class="print-page">
            <img src="images/page7.png" class="print-bg">
            <div class="print-text">ãŠã‚„ã™ã¿ã€ãƒ«ãƒ«ã€‚<br>ã„ã„ã€€ã‚†ã‚ã€€ã¿ã¦ã­ã€‚</div>
        </div>

        <div class="print-page colophon-page">
            <div class="print-colophon">
                <p>ç™ºè¡Œæ—¥ï¼š2025å¹´12æœˆ12æ—¥</p>
                <p>ç™ºè¡Œï¼šSakura Academia</p>
                <div class="qr-box"><span style="font-size: 8pt; color:#ccc;">QR</span></div>
            </div>
        </div>

        <div class="print-page last">
            <img src="images/cover_back.png" class="print-bg">
            <div class="print-text" style="bottom: 10%;">ãŠã—ã¾ã„</div>
        </div>
    </div>

    <div id="controls">
        <button onclick="location.href='../index.html'" class="control-btn btn-home">ğŸ  æˆ»ã‚‹</button>
        <button onclick="prevPage()" id="btn-prev" class="control-btn btn-nav">â—€ å‰ã¸</button>
        <button onclick="window.print()" class="control-btn premium-btn">ğŸ PDFä¿å­˜</button>
        <button onclick="nextPage()" id="btn-next" class="control-btn btn-nav">æ¬¡ã¸ â–¶</button>
    </div>

    <div id="book-stage">
        <div class="page active" id="p1">
            <div class="cover-title"><span class="girl-name"></span>ã¨ãƒ«ãƒ«</div>
            <div class="image-area"><img src="images/cover_front.png" alt="Front Cover"></div>
        </div>
        
        <div class="page future" id="p2">
            <div class="image-area"><img src="images/page1.png"></div>
            <div class="text-area"><p>ãŠã¯ã‚ˆã†ã€<br><span class="girl-name"></span></p></div>
        </div>
        
        <div class="page future" id="p3">
            <div class="image-area"><img src="images/page2.png"></div>
            <div class="text-area"><p>ã€Œãƒãƒƒ ãƒãƒƒã€<br>â€¦â€¦ã ã‚ã‚Œï¼Ÿ</p></div>
        </div>
        
        <div class="page future" id="p4">
            <div class="image-area"><img src="images/page3.png"></div>
            <div class="text-area"><p>ã€Œã“ã£ã¡ã¸<br>ãŠã„ã§ã€</p></div>
        </div>
        
        <div class="page future" id="p5">
            <div class="image-area"><img src="images/page4.png"></div>
            <div class="text-area"><p>ãƒ”ãƒ§ãƒ³ï¼<br>ã¨<br>ãƒ”ãƒ§ãƒ³ï¼</p></div>
        </div>
        
        <div class="page future" id="p6">
            <div class="image-area"><img src="images/page5.png"></div>
            <div class="text-area">
                <p>ãµã‚ã£ã€‚ã¦ã«ã€€ã®ã£ãŸï¼<br>ãã¿ã®ã€€ãªã¾ãˆã¯â€¦â€¦<br>ã€Œãƒ«ãƒ«ã€ï¼</p>
            </div>
        </div>
        
        <div class="page future" id="p7">
            <div class="image-area"><img src="images/page6.png"></div>
            <div class="text-area"><p>ãƒ«ãƒ«ã¯<br><span class="girl-name"></span>ãŒ<br>ã ãƒ¼ã„ã™ã</p></div>
        </div>
        
        <div class="page future" id="p8">
            <div class="image-area"><img src="images/page7.png"></div>
            <div class="text-area"><p>ãŠã‚„ã™ã¿ã€ãƒ«ãƒ«ã€‚<br>ã„ã„ã€€ã‚†ã‚ã€€ã¿ã¦ã­ã€‚</p></div>
        </div>
        
        <div class="page future" id="p9">
            <div class="image-area"><img src="images/cover_back.png" alt="Back Cover"></div>
            <div class="text-area"><p>ãŠã—ã¾ã„</p></div>
        </div>
    </div>

    <script src="settings.js"></script>
    <script>
        // ç¾åœ¨ã®ãƒšãƒ¼ã‚¸ç•ªå·ã‚’ç®¡ç†ã™ã‚‹å¤‰æ•°
        let currentPage = 1;
        // Webç”»é¢ä¸Šã®ç·ãƒšãƒ¼ã‚¸æ•°
        const totalPages = 9;

        /**
         * æ–‡å­—ã‚µã‚¤ã‚ºè‡ªå‹•èª¿æ•´é–¢æ•°
         * ç”»é¢ã‚µã‚¤ã‚ºã«åˆã‚ã›ã¦ã€ã¯ã¿å‡ºã•ãªã„ã‚ˆã†ã«æ–‡å­—ã‚’å°ã•ãã™ã‚‹
         */
        function adjustTextSize() {
            const textContainers = document.querySelectorAll('.text-area');
            textContainers.forEach(container => {
                const p = container.querySelector('p');
                if (!p) return;
                
                // P6ã¯CSSã§ã‚µã‚¤ã‚ºã‚’å›ºå®šåˆ¶å¾¡ã—ã¦ã„ã‚‹ãŸã‚ã‚¹ã‚­ãƒƒãƒ—
                if (container.parentElement.id === 'p6') return;

                // åˆæœŸã‚µã‚¤ã‚º
                let size = 20; 
                p.style.fontSize = size + 'pt';

                // ã‚³ãƒ³ãƒ†ãƒŠã®é«˜ã•ã‚’è¶…ãˆã¦ã„ã‚‹å ´åˆã€åã¾ã‚‹ã¾ã§å°ã•ãã™ã‚‹
                while (p.scrollHeight > container.clientHeight && size > 10) {
                    size -= 1;
                    p.style.fontSize = size + 'pt';
                }
            });
        }

        /**
         * ç”»é¢æ›´æ–°é–¢æ•°
         * åå‰ã‚’å·®ã—æ›¿ãˆãŸã‚Šã€ãƒœã‚¿ãƒ³ã®çŠ¶æ…‹ã‚’æ›´æ–°ã—ãŸã‚Šã™ã‚‹
         */
        function updateView() {
            let currentName = "å¥³ã®å­";
            
            // ä¿å­˜ã•ã‚ŒãŸåå‰ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿
            try {
                if (typeof settings !== 'undefined' && settings.girlName) {
                    currentName = settings.girlName;
                }
                const storedName = localStorage.getItem('girlName');
                if (storedName) {
                    currentName = storedName;
                }
            } catch (e) { console.warn("Settings error"); }

            // HTMLå†…ã®ã€Œåå‰ã€éƒ¨åˆ†ã‚’ã™ã¹ã¦ç½®ãæ›ãˆ
            document.querySelectorAll('.girl-name').forEach(el => el.textContent = currentName);
            document.title = `${currentName}ã¨ãƒ«ãƒ« - ç¬¬1å·» (çµ±åˆç‰ˆ)`;

            // QRã‚³ãƒ¼ãƒ‰ãŒã‚ã‚Œã°æ›´æ–°
            if (typeof settings !== 'undefined' && settings.updateQR) settings.updateQR();

            // ã€Œå‰ã¸ã€ã€Œæ¬¡ã¸ã€ãƒœã‚¿ãƒ³ã®æœ‰åŠ¹ãƒ»ç„¡åŠ¹åˆ‡ã‚Šæ›¿ãˆ
            document.getElementById('btn-prev').disabled = currentPage === 1;
            document.getElementById('btn-next').disabled = currentPage === totalPages;
            
            // æ–‡å­—ã‚µã‚¤ã‚ºèª¿æ•´ã‚’å®Ÿè¡Œ
            requestAnimationFrame(adjustTextSize);
        }

        /**
         * ãƒšãƒ¼ã‚¸ã‚¯ãƒ©ã‚¹è¨­å®šé–¢æ•°
         * ç¾åœ¨ã®ãƒšãƒ¼ã‚¸ã«åŸºã¥ã„ã¦ã€active(è¡¨ç¤ºä¸­), past(éå»), future(æœªæ¥) ã‚¯ãƒ©ã‚¹ã‚’ä»˜ä¸
         */
        function setPageClasses() {
            for (let i = 1; i <= totalPages; i++) {
                const el = document.getElementById(`p${i}`);
                if (!el) continue;
                el.className = 'page';
                if (i < currentPage) el.classList.add('past');
                else if (i === currentPage) el.classList.add('active');
                else el.classList.add('future');
            }
        }

        /**
         * æ¬¡ã®ãƒšãƒ¼ã‚¸ã¸é€²ã‚€
         */
        function nextPage() {
            if (currentPage < totalPages) {
                currentPage++;
                setPageClasses();
                updateView();
            }
        }

        /**
         * å‰ã®ãƒšãƒ¼ã‚¸ã¸æˆ»ã‚‹
         */
        function prevPage() {
            if (currentPage > 1) {
                currentPage--;
                setPageClasses();
                updateView();
            }
        }

        // åˆæœŸåŒ–å‡¦ç†ï¼ˆãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿å®Œäº†æ™‚ã«å®Ÿè¡Œï¼‰
        document.addEventListener('DOMContentLoaded', () => {
            setPageClasses();
            updateView();
            
            // ã‚¹ãƒãƒ›ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒãƒ¼ã«ã‚ˆã‚‹é«˜ã•ã‚ºãƒ¬ã‚’è£œæ­£ã™ã‚‹
            const setAppHeight = () => {
                document.documentElement.style.setProperty('--app-height', `${window.innerHeight}px`);
            };
            window.addEventListener('resize', setAppHeight);
            setAppHeight();
        });

        // ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œå¯¾å¿œï¼ˆPCç”¨ï¼‰
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight') nextPage();
            if (e.key === 'ArrowLeft') prevPage();
        });

        // ã‚¹ãƒ¯ã‚¤ãƒ—æ“ä½œå¯¾å¿œï¼ˆã‚¹ãƒãƒ›ç”¨ï¼‰
        let touchStartX = 0;
        const SWIPE_THRESHOLD = 50; // åå¿œã™ã‚‹ç§»å‹•è·é›¢
        document.addEventListener('touchstart', e => { touchStartX = e.changedTouches[0].screenX; }, { passive: true });
        document.addEventListener('touchend', e => {
            const touchEndX = e.changedTouches[0].screenX;
            if (touchStartX - touchEndX > SWIPE_THRESHOLD) nextPage(); // å·¦ã‚¹ãƒ¯ã‚¤ãƒ—ã§æ¬¡ã¸
            if (touchEndX - touchStartX > SWIPE_THRESHOLD) prevPage(); // å³ã‚¹ãƒ¯ã‚¤ãƒ—ã§å‰ã¸
        }, { passive: true });
    </script>
</body>
</html>
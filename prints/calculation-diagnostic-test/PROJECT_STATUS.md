# 📊 計算診断テスト：プロジェクト状況管理

> **最終更新**: 2026-02-21
> **更新者**: Claude (チャットID: 記録してください)

---

## 🎯 このファイルの目的

このファイルは、**チャットが途切れた時に次のAIエージェントがすぐに作業を継続できる**ように、プロジェクトの現状を一元管理します。

### 新しいチャットで作業を開始する際の手順

1. **このファイル（PROJECT_STATUS.md）を読む**
2. **「現在の進捗」セクションで完成状況を確認**
3. **「次のタスク」セクションで何をすべきか確認**
4. **「最後の作業」セクションで前回の作業内容を確認**
5. **作業開始！**

---

## 📁 プロジェクト概要

### プロジェクト名
**計算診断テスト - 自動化能力判定システム**

### ディレクトリ
```
prints/calculation-diagnostic-test/
```

### 主要ドキュメント
| ファイル | 内容 | 参照タイミング |
|---------|------|--------------|
| [DESIGN.md](DESIGN.md) | 全体設計・問題作成の原則 | 新規ファイル作成時 |
| [AI_RULES.md](AI_RULES.md) | AI編集ルール | ファイル編集前 |
| [TASK_SURVIVAL.md](TASK_SURVIVAL.md) | サバイバルテスト実装タスク | サバイバルテスト作業時 |
| [TASK_INTERLEAVED.md](TASK_INTERLEAVED.md) | インターリーブドテスト実装タスク | インターリーブドテスト作業時 |
| **PROJECT_STATUS.md** ← このファイル | **現在の進捗・次のタスク** | **毎回必読** |

---

## ✅ 現在の進捗状況

### ステージ1：反射神経（8単元）

#### 訓練ファイル（7単元 ※単元A～Gまで完成）

| 分類 | 単元 | ファイル名 | 状態 | 最終更新 | 備考 |
|-----|-----|-----------|------|---------|------|
| **反射神経①** | A | `sec1a_decimal_fraction.js` | ✅ 完成 | - | 小数↔分数変換 |
| | B | `sec1b_squares.js` | ✅ 完成 | - | 四角数・三角数 |
| | C | `sec1c_pi.js` | ✅ 完成 | - | 円周率の段 |
| | D | `sec1d_primes.js` | ✅ 完成 | - | 素数判定・倍数判定（2カラム形式） |
| **反射神経②** | E | `sec1e_golden_pairs.js` | ✅ 完成 | 2026-02-21 | 黄金ペア・補数（4レベル、2カラム） |
| | F | `sec1f_mental_and_factorization.js` | ✅ 完成 | 2026-02-21 | 瞬発暗算・素因数分解（4レベル、2カラム） |
| | G | `sec1g_approximation.js` | ✅ 完成 | 2026-02-21 | 近似計算（3レベル、2カラム、questionsフィールド使用） |

> **注**: 単元Hは存在しません（DESIGN.mdでも7単元構成）

#### 3分チャレンジ（サバイバルテスト）

| ファイル名 | 状態 | 問題数 | パターン数 | 最終更新 | 備考 |
|-----------|------|--------|----------|---------|------|
| `sec1_survival_1.js` | ✅ 完成（編集禁止） | 40問 | 5パターン（A～E） | - | 反射神経①（単元A～D）の3分チャレンジ |

> **注**: `sec1_survival_2.js`（反射神経②のサバイバルテスト）は未作成です

---

### ステージ2：構造視力（7単元）

#### 訓練ファイル（7単元）

| 単元 | ファイル名 | 状態 | 最終更新 | 備考 |
|-----|-----------|------|---------|------|
| A | `sec2a_distribution_basic.js` | ⚠️ 要確認 | 2026-02-21 | 分配法則：基本 |
| B | `sec2b_distribution_advanced.js` | ⚠️ 要確認 | 2026-02-21 | 100に近い数（旧sec2b_gcd.jsと統合？） |
| C | `sec2c_associative.js` | ⚠️ 要確認 | 2026-02-21 | 結合分解 |
| D | `sec2d_decimal_fraction_calc.js` | ⚠️ 要確認 | 2026-02-21 | 小数分数計算 |
| E | `sec2e_reduction.js` | ⚠️ 要確認 | 2026-02-21 | 約分 |
| F | `sec2f_sequence.js` | ⚠️ 要確認 | 2026-02-21 | 数列 |
| G | `sec2g_digits_zero.js` | ⚠️ 要確認 | 2026-02-21 | 桁数ゼロ処理 |

#### サバイバルテストファイル

| ファイル名 | 状態 | 問題数 | セット数 | 最終更新 | 備考 |
|-----------|------|--------|---------|---------|------|
| `sec2_survival.js` | ⚠️ 要確認 | - | - | 2026-02-21 | 構造視力サバイバル |

---

### ステージ3：持久力（未実装）

| ファイル名 | 状態 | 最終更新 | 備考 |
|-----------|------|---------|------|
| `sec3_survival.js` | ⚠️ 要確認 | 2026-02-21 | 持久力サバイバル |
| `sec3_endurance.js` | ⚠️ 要確認 | 2026-02-21 | - |
| `sec3_audit.js` | ⚠️ 要確認 | 2026-02-21 | - |

---

### UI・表示システム

| ファイル名 | 状態 | 最終更新 | 備考 |
|-----------|------|---------|------|
| `index.html` | ⚠️ 要確認 | 2026-02-21 | メインページ |
| `stage1.html` | ⚠️ 要確認 | - | ステージ1専用ページ |
| `stage2.html` | ⚠️ 要確認 | - | ステージ2専用ページ |
| `record-passport.html` | ✅ 完成 | 2026-02-21 | 記録パスポート（最適化済み） |
| `js/core.js` | ✅ 完成 | 2026-02-21 | コアロジック（解答欄幅個別化対応済み） |
| `css/base.css` | ⚠️ 要確認 | 2026-02-21 | 基本スタイル |
| `css/sheet.css` | ⚠️ 要確認 | 2026-02-21 | プリントスタイル |
| `css/ui.css` | ⚠️ 要確認 | 2026-02-21 | UIスタイル |
| `css/criteria.css` | ⚠️ 要確認 | 2026-02-21 | 判定基準スタイル |

---

## 🔄 最後の作業（2026-02-21）

### 実施内容
- ディレクトリ内のファイル更新状況を確認
- `sec1_survival_1.js`の内容を確認（40問、5パターン構成）
- `sec1d_primes.js`の内容を確認（2カラム形式）
- `js/core.js`の内容を確認（解答欄幅個別化機能あり）

### 確認した内容
- ✅ **ステージ1の訓練ファイル（A～G）はすべて完成**
  - 反射神経①（単元A～D）: 完成済み（ユーザー確認）
  - 反射神経②（単元E～G）: 完成済み（本日確認）
- ✅ **3分チャレンジ（サバイバルテスト）はパターンA～Eまで完成**
  - `sec1_survival_1.js`: 40問×5パターン完成（ユーザー確認）
  - 単元A～Dを使用した反射神経①のサバイバルテスト
- ⚠️ **sec2b_gcd.js**という予期しないファイルが存在
  - 内容: 最大公約数の暗算（約分のため）
  - 5レベル構成、問題数10問×5
  - DESIGN.mdには「sec2b_distribution_advanced.js（100に近い数）」が記載
  - **判断保留**: このファイルは独立した単元か、sec2e（約分）の補助教材か不明

### 次回への引き継ぎ事項
1. ✅ ステージ1訓練ファイルの確認完了
2. ✅ 3分チャレンジ（sec1_survival_1.js）の完成確認
3. ⚠️ `sec2b_gcd.js`の位置づけを明確化（ユーザーに確認 or 設計書と照合）
4. ⚠️ ステージ2の訓練ファイル（A～G）の内容確認が必要
5. ⚠️ ステージ2・3のサバイバルテストファイルの確認が必要

---

## 📝 次のタスク

### 🎯 現在の焦点

**ステージ1（反射神経）は完成！次はステージ2（構造視力）の確認・整理へ**

---

### 最優先タスク

**🎯 現在は特になし**

ステージ1（反射神経）は完成しました。次のタスクはユーザーから指示があるまで待機します。

### ⛔ 作業禁止タスク（ユーザー指示があるまで放置）

~~1. **[⛔ 禁止] sec2b_gcd.jsの位置づけ明確化**~~
   - ステージ2全般に手をつけないため、このタスクも保留

~~2. **[⛔ 禁止] ステージ2（構造視力）の訓練ファイル確認**~~
   - ユーザー指示: 「まだ手をつける段階じゃない、放置でいい」
   - 必要になったらユーザーから声がかかる

### 保留タスク（ユーザー指示待ち）

3. **[ ] 反射神経②のサバイバルテスト検討**
   - `sec1_survival_2.js`の作成要否を確認
   - 必要であればTASK_SURVIVAL.mdに基づいて作成計画

4. **[ ] ステージ3のサバイバルテスト確認**
   - `sec3_survival.js`の内容確認（持久力のサバイバルテスト）
   - ステージ2が完了してから実施

### 低優先タスク（後回し）

5. **[ ] ドキュメントの整合性確認**
   - docs/*.mdファイルと対応する.jsファイルの一致確認
   - AI_RULES.mdのファイル対応表の更新
   - DESIGN.mdの変更履歴更新

---

## 📌 重要な注意事項

### 編集禁止ファイル
- ⚠️ **`sec1_survival_1.js`** - 完成したファイルのため**絶対に変更しないこと**

### 🚫 作業禁止エリア
- ⛔ **ステージ2（構造視力）全般** - 現時点では作業不要。ユーザーから指示があるまで**絶対に手をつけないこと**
  - `sec2_*.js`ファイルの確認・編集は禁止
  - ステージ2のタスクは一切実施しない
  - 必要になったらユーザーから声がかかる

### 編集ルール
1. **必ず設計書（docs/*.md）を先に確認する**
2. **変更前にAI_RULES.mdを読む**
3. **作業後にこのファイル（PROJECT_STATUS.md）を更新する**

---

## 📚 作業履歴（CHANGELOG）

### 2026-02-21 - セッション1
- **初版作成**: PROJECT_STATUS.mdを新規作成
- **ルール追加**: AI_RULES.mdに作業前後のPROJECT_STATUS.md確認ルールを追加
- **確認作業**: ディレクトリ内のファイル構成を確認
- **発見事項**: sec2b_gcd.jsという予期しないファイルを発見

### 2026-02-21 - セッション2
- **ファイル確認**: sec1e, sec1f, sec1g, sec2b_gcdの内容を確認
- **完成判定**: ステージ1の訓練ファイル（A～G）がすべて完成していることを確認
- **ユーザー情報取得**:
  - 反射神経①（単元A～D）は完成済み
  - 3分チャレンジはパターンA～Eまで作成済み（40問×5パターン）
  - **重要**: ステージ2・3は現時点で作業禁止（ユーザー指示があるまで放置）
- **進捗表更新**: ステージ1の状況を正確に反映
- **タスク整理**: TASK_INTERLEAVED.mdとTASK_SURVIVAL.mdを大幅に簡潔化
  - DESIGNファイルとの重複部分を削除
  - タスクファイルは必要最小限の情報のみに
  - 詳細設計情報はDESIGN.mdに委譲
- **作業禁止エリア設定**: ステージ2・3全般を作業禁止に設定
- **問題点**: sec1g_approximation.jsはquestionsフィールドを使用（特殊構造だが意図的）
- ~~**問題点**: sec2b_gcd.jsの位置づけが不明（DESIGN.mdに記載なし）~~ → ステージ2作業禁止のため保留

### （今後の作業履歴はここに追記）

---

## 💡 Tips：新しいチャットで作業を始める際

### ステップ1：状況確認
```
このファイル（PROJECT_STATUS.md）を読んで、「次のタスク」セクションを確認してください。
```

### ステップ2：作業開始
```
タスクに基づいて作業を開始。必要に応じてDESIGN.mdやAI_RULES.mdを参照。
```

### ステップ3：作業完了後
```
このファイル（PROJECT_STATUS.md）の以下を更新：
1. 進捗状況（✅完成、⚠️要確認、❌未作成）
2. 最後の作業
3. 次のタスク
4. 作業履歴
```

---

**🔄 このファイルは作業のたびに必ず更新してください！**

# サバイバル・ストリーク 30 実装タスク

## 概要

全3部門のサバイバル形式テストを、各部門3セット（A/B/C）で作成する。

---

## 仕様

### テスト形式
- **制限時間**: 各パート3分
- **問題数**: 30問（難易度昇順）
- **ルール**: 1問でも間違えたらそこで採点終了（ストリーク方式）
- **セット**: A/B/C の3バリエーション（同番号は同じ「壁」を問う同型問題）
- **レイアウト**: A4片面に2列（15問×2列）、長い問題のみ両面

### 3セットの設計原則
| No. | セットA | セットB | セットC | 試す能力（壁） |
|:----|:--------|:--------|:--------|:-------------|
| 同番号は同型 | 数値が異なる | 数値が異なる | 数値が異なる | 同じ技術・知識 |

---

## 作成ファイル

### データファイル（各1ファイル×3セット内包）
- [ ] `sec1_survival.js` — 第1部：反射神経サバイバル（30問×3セット）
- [ ] `sec2_survival.js` — 第2部：構造視力サバイバル（30問×3セット）
- [ ] `sec3_survival.js` — 第3部：持久力サバイバル（30問×3セット）

### main.html 更新
- [ ] タブラベルを動的化（patternLabels対応）: パターンA→E を セットA/B/C に変更
- [ ] 1セットが1パターンとして機能するよう表示調整
- [ ] 上記3ファイルをscript読み込みに追加

---

## 第1部：反射神経サバイバル 問題設計

### Q1-10: 基礎変換・1桁（知識の即記憶）

| No. | 壁 | セットA | セットB | セットC |
|:----|:----|:--------|:--------|:--------|
| 1 | 小数→分数（0.5系） | 0.5→□ | 0.25→□ | 0.75→□ |
| 2 | 分数→小数（基本） | 1/2→□ | 1/4→□ | 3/4→□ |
| 3 | 小数→分数（0.2系） | 0.2→□ | 0.4→□ | 0.6→□ |
| 4 | 分数→小数（5分の） | 2/5→□ | 4/5→□ | 1/5→□ |
| 5 | 小数→分数（0.1系） | 0.1→□ | 0.05→□ | 0.04→□ |
| 6 | 九九（7の段） | 7×8 | 7×6 | 7×9 |
| 7 | 九九（8の段） | 8×7 | 8×9 | 8×6 |
| 8 | 九九（9の段） | 9×6 | 9×8 | 9×7 |
| 9 | 2桁×1桁 | 12×3 | 11×7 | 13×6 |
| 10 | 2桁×1桁（分配） | 6×15 | 7×14 | 8×13 |

### Q11-20: 黄金ペア・補数・3.14系（中級知識）

| No. | 壁 | セットA | セットB | セットC |
|:----|:----|:--------|:--------|:--------|
| 11 | 25の黄金ペア | 25×4 | 25×8 | 25×12 |
| 12 | 125の黄金ペア | 125×8 | 16×625 | 32×125 |
| 13 | ×25変換（×100÷4） | 32×25 | 48×25 | 36×25 |
| 14 | 補数（足して100） | 32+68 | 43+57 | 78+22 |
| 15 | 補数（足して1000） | 375+625 | 256+744 | 437+563 |
| 16 | 3.14×整数（×2） | 3.14×2 | 3.14×3 | 3.14×4 |
| 17 | 3.14×整数（×10） | 3.14×10 | 3.14×100 | 3.14×0.1 |
| 18 | 2桁+2桁（工夫） | 96+104 | 85+115 | 73+127 |
| 19 | 2桁×1桁（高速化） | 9×56 | 8×63 | 7×84 |
| 20 | 大きい補数 | 567+33 | 894+106 | 423+77 |

### Q21-30: 1/8系列・素数もどき（上級知識）

| No. | 壁 | セットA | セットB | セットC |
|:----|:----|:--------|:--------|:--------|
| 21 | 0.125系列（小数→分数） | 0.125→□ | 0.375→□ | 0.625→□ |
| 22 | 0.875→分数 | 0.875→□ | 1.25→□ | 0.875→□ |
| 23 | 1/8系列（分数→小数） | 1/8→□ | 3/8→□ | 5/8→□ |
| 24 | 7/8系列 | 7/8→□ | 7/20→□ | 3/20→□ |
| 25 | 素数もどき① | 91＝? | 51＝? | 57＝? |
| 26 | 素数もどき② | 87＝? | 119＝? | 143＝? |
| 27 | 3の倍数判定 | 123は? | 321は? | 234は? |
| 28 | 7の倍数判定 | 77は? | 91は? | 49は? |
| 29 | 高速計算（大きい数） | 16×625 | 64×125 | 32×25 |
| 30 | 総合瞬発力 | 125×32 | 250×4 | 175×4 |

---

## 第2部：構造視力サバイバル 問題設計

### Q1-10: 分配法則（整数のみ）

| No. | 壁 | セットA | セットB | セットC |
|:----|:----|:--------|:--------|:--------|
| 1 | 括る（+, 前因数） | 34×13+34×87 | 28×47+28×53 | 15×72+15×28 |
| 2 | 括る（+, 前因数） | 42×64+42×36 | 63×19+63×81 | 18×3+18×7 |
| 3 | 括る（−, 前因数） | 93×177-93×77 | 56×142-56×42 | 72×110-72×10 |
| 4 | 括る（−, 前因数） | 125×13-125×3 | 18×105-18×5 | 25×108-25×8 |
| 5 | 括る（後因数） | 1.7×3.7+8.3×3.7 | 0.8×12.5+9.2×12.5 | 3.1×4.5+3.1×5.5 |
| 6 | ニアリーイコール変形 | 10000-9999 | 1000-999 | 100-99 |
| 7 | 補数 | 1000-333 | 10000-3333 | 100-37 |
| 8 | 9999変形 | 33333-9999 | 99999-9999 | 99999-99 |
| 9 | 連続補数 | 99+999+9999 | 9+99+999 | 9+99+9999 |
| 10 | 複合 | 2400-2399 | 3001-3000 | 5000-4999 |

### Q11-20: 変換してから工夫

| No. | 壁 | セットA | セットB | セットC |
|:----|:----|:--------|:--------|:--------|
| 11 | 小数⇔分数で足して1 | 0.375+5/8 | 0.625+3/8 | 0.875+1/8 |
| 12 | 小数⇔分数で引いて整数 | 1.125-1/8 | 2.625-5/8 | 1.875-7/8 |
| 13 | 分数⇔小数で足して1 | 3/4+0.25 | 1/4+0.75 | 1/2+0.5 |
| 14 | 0.2系変換 | 2/5+0.6 | 4/5+0.2 | 3/5+0.4 |
| 15 | 混合変換 | 0.76+1/5 | 3/4+0.625 | 0.4+3/5 |
| 16 | ×25=×100÷4 | 36×25 | 44×25 | 84×25 |
| 17 | 分配（小数含む） | 2.4×6.8+7.6×6.8 | 5.6×0.44+4.4×0.44 | 0.8×12.5+9.2×12.5 |
| 18 | ×(10.1-0.1)型 | 72×10.1-72×0.1 | 56×10.1-56×0.1 | 18×10.1-18×0.1 |
| 19 | 補数（大） | 10000-2468 | 10000-7777 | 10000-8765 |
| 20 | 補数（中） | 1000-234 | 1000-876 | 100-63 |

### Q21-30: 数値分解・GCD一発約分

| No. | 壁 | セットA | セットB | セットC |
|:----|:----|:--------|:--------|:--------|
| 21 | ×25=×100÷4 | 32×25 | 48×25 | 64×25 |
| 22 | ×125=×1000÷8 | 64×125 | 16×125 | 32×125 |
| 23 | 2^n×5^n | 16×625 | 4×2500 | 8×125 |
| 24 | 複合分解 | 125×32 | 250×8 | 500×2 |
| 25 | GCD一発（÷12, ÷6） | 24/36→ | 18/24→ | 12/30→ |
| 26 | GCD一発（÷15, ÷8） | 30/45→ | 48/72→ | 32/48→ |
| 27 | GCD一発（÷28, ÷18） | 56/84→ | 36/54→ | 72/108→ |
| 28 | GCD一発（÷30, ÷14） | 60/90→ | 42/70→ | 84/126→ |
| 29 | GCD一発（大きい数） | 126/210→ | 144/192→ | 120/180→ |
| 30 | GCD一発（最難） | 140/210→ | 108/180→ | 90/135→ |

---

## 第3部：持久力サバイバル 問題設計

### Q1-10: 整数の逆算・四則混合

| No. | 壁 | セットA | セットB | セットC |
|:----|:----|:--------|:--------|:--------|
| 1 | □+a=b（逆算基本） | □+7=15 | □+4=12 | □+9=17 |
| 2 | □-a=b | □-4=9 | □-7=3 | □-5=8 |
| 3 | □×a=b | □×3=21 | □×4=28 | □×6=54 |
| 4 | □÷a=b | □÷6=8 | □÷5=7 | □÷4=9 |
| 5 | (□+a)×b=c | (□+3)×4=28 | (□+2)×5=30 | (□+1)×7=42 |
| 6 | (□-a)÷b=c | (□-5)÷3=7 | (□-4)÷2=8 | (□-6)÷4=6 |
| 7 | a×□+b=c | 4×□+3=23 | 3×□+2=17 | 5×□+1=26 |
| 8 | □÷a+b=c | □÷4+6=14 | □÷3+5=9 | □÷2+7=15 |
| 9 | 四則（括弧+乗除） | 24÷(6+3×2) | 36÷(9-3×2) | 48÷(4×2-4) |
| 10 | 四則（乗減加） | 3+4×2-1 | 5+3×4-2 | 2+6×3-4 |

### Q11-20: 分数・小数混入の逆算

| No. | 壁 | セットA | セットB | セットC |
|:----|:----|:--------|:--------|:--------|
| 11 | □×分数=分数 | □×3/5=9/10 | □×2/3=4/9 | □×5/6=5/12 |
| 12 | 分数÷□=分数 | 2/7÷□=5/21 | 3/8÷□=9/16 | 5/9÷□=10/27 |
| 13 | □÷分数=分数 | □÷3/4=8/9 | □÷2/3=3/4 | □÷5/6=6/7 |
| 14 | 分数÷□=分数② | 5/6÷□=10/3 | 4/5÷□=8/15 | 3/7÷□=9/14 |
| 15 | □+分数=帯分数 | □+2/3=1 1/6 | □+3/4=1 1/3 | □+1/2=1 5/8 |
| 16 | 分数×□=分数 | 3/4×□=9/8 | 5/6×□=5/3 | 2/3×□=4/9 |
| 17 | □÷分数=分数③ | □÷1/2=3/4 | □÷1/3=2/5 | □÷1/4=3/8 |
| 18 | □+分数=整数 | 4/5+□=2 | 5/6+□=3 | 2/3+□=4 |
| 19 | 四則（括弧先） | 2×(3+4)-5 | 3×(2+5)-4 | 4×(1+6)-3 |
| 20 | 四則（括弧+除） | 18÷(2+1)+4 | 20÷(4+1)+3 | 24÷(3+3)+2 |

### Q21-30: 帯分数・多重括弧の逆算

| No. | 壁 | セットA | セットB | セットC |
|:----|:----|:--------|:--------|:--------|
| 21 | 帯分数の引き算（繰り下げ） | 6 5/8-4 1/3 | 8 1/4-5 5/6 | 9 3/8-6 11/12 |
| 22 | 帯分数の足し算（繰り上げ） | 3 3/4+2 7/12 | 7 1/2+4 5/6 | 5 5/6+4 2/3 |
| 23 | 帯分数の引き算② | 5 1/2-2 3/4 | 10 1/4-7 5/6 | 7 2/3-4 5/6 |
| 24 | 帯分数の足し算② | 4 2/3+3 5/8 | 6 3/4+2 5/8 | 8 1/6-3 3/4 |
| 25 | 多重逆算① | (□×6-1.2)÷3=8 | (□×4+0.8)÷2=6 | (□×5-2.5)÷3=5 |
| 26 | 多重逆算② | □×2+7=19 | □×3+5=23 | □×4+3=31 |
| 27 | 多重逆算③ | (8-□)×3=15 | (12-□)×4=20 | (10-□)×5=25 |
| 28 | 四則（乗+乗） | 4×(2+6)÷8 | 6×(3+7)÷12 | 5×(1+9)÷10 |
| 29 | 四則（乗÷括弧） | 20÷4+3×2 | 15÷3+2×4 | 12÷2+5×3 |
| 30 | 四則（減乗括弧） | 12-2×(3+1) | 15-3×(2+2) | 18-4×(1+3) |

---

## 実装手順

### Step 1: main.html 更新
- [ ] タブラベル動的化（patternLabels フィールド対応）
- [ ] 1パターン以外のタブ非表示
- [ ] activePatternIdx の安全ガード

### Step 2: sec1_survival.js 作成
- [ ] セットA・B・C 各30問

### Step 3: sec2_survival.js 作成
- [ ] セットA・B・C 各30問

### Step 4: sec3_survival.js 作成
- [ ] セットA・B・C 各30問

### Step 5: main.html に script タグ追加

### Step 6: 動作確認・Git コミット

---

## 注意点
- 1/8系列でセットAとCで同じ壁（No.21,22）→ 数値は変えるが後で確認
- 全30問を1パターンとして格納（タブA=セットA, B=セットB, C=セットC）
- 問題番号が多いので印刷時は2ページになる可能性あり（許容）
